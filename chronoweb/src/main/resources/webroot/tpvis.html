<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />

<title>Chronoweb - Home</title>

<!-- Custom fonts for this template-->
<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet"
	type="text/css" />
<link
	href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
	rel="stylesheet" />
<!-- Custom styles for this template-->
<link href="css/sb-admin-2.min.css" rel="stylesheet" />
</head>
<!-- Bootstrap core JavaScript-->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- Core plugin JavaScript-->
<script src="vendor/jquery-easing/jquery.easing.min.js"></script>
<!-- Custom scripts for all pages-->
<script src="js/sb-admin-2.min.js"></script>
<script src="js/chronoweb.js"></script>
<script src="vendor/d3/d3.v7.js"></script>
<script defer>
		// Connection to the server
		$(document).ready(() => {
			
			
			
			// Connection to the server
			const href = window.location.href;
			let hrefArr = href.split("/");
			let baseURL = hrefArr[0] + "//" + hrefArr[2] + "/chronoweb";

			serverConn(baseURL, "#serverResp");
			setInterval(serverConn.bind(baseURL, "#serverResp"), 3000);
			
			
		});
</script>

<script>
function getStartTimesLocal(){
	const href = window.location.href;
	let hrefArr = href.split("/");
	let baseURL = hrefArr[0] + "//" + hrefArr[2] + "/chronoweb";
	getGammaTableStartTimes(baseURL+"/gammaTable", "edgeLabel", "gammaTablesStartTimes", "gammaTablesStartTimeMenuTitle", "gammaTablesPrograms" ,"gammaTablesProgramTitle", "gammaTablesSources" ,"gammaTablesSourceTitle", "visualizeButton", "container");
}

</script>

<body id="page-top">
	<!-- Page Wrapper -->
	<div id="wrapper">
		<!-- Sidebar -->
		<ul id="sidebar"
			class="navbar-nav bg-gradient-custom sidebar sidebar-dark accordion"
			id="accordionSidebar">
		</ul>

		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">
			<!-- Main Content -->
			<div id="content">
				<!-- Topbar -->
				<nav
					class="navbar navbar-expand navbar-light bg-white topbar static-top shadow d-md-none">
					<!-- Sidebar Toggle (Topbar) -->
					<button id="sidebarToggleTop"
						class="btn btn-link rounded-circle mr-3">
						<i class="fa fa-bars"></i>
					</button>
				</nav>
				<!-- End of Topbar -->

				<div class="bg-header pt-4 pb-3">
					<div class="pt-4 px-5">
						<h1 class="h1 text-gray-100 font-weight-bold mb-4">Temporal
							Path Visualization (TPVis)</h1>

						<div class="text-gray-100">
							<p>TPVis visualizes information flow over time from a
								specific vertex event.</p>
						</div>
					</div>

					<!-- Toast container -->
					<div style="position: absolute; top: 1rem; right: 1rem;">
						<!-- Toast -->
						<div class="toast toast-right-top" id="responseToast" role="alert"
							aria-live="assertive" aria-atomic="true" data-delay="3000">
							<div class="toast-header">
								<i data-feather="bell"></i> <strong class="mr-auto">Reset
									Response</strong>
								<button class="ml-5 mb-1 close" type="button"
									data-dismiss="toast" aria-label="Close">&times;</button>
							</div>
							<div class="toast-body"></div>
						</div>
					</div>
				</div>
				<div class="row mt-n8 px-5">
					<div class="col-lg-12">
						<div class="card shadow mb-14">

							<div class="card-header py-3">

								<div class="row">
									<div class="col-sm">
										<div class="form-group row">
											<input id="edgeLabel" class="form-control mb-2" type="text"
												placeholder="edge label">
											<button id="searchGammaTables" type="button"
												class="btn btn-primary" onclick="getStartTimesLocal()">Search</button>
											<div class="dropdown">
												<button class="btn btn-secondary dropdown-toggle"
													type="button" id="gammaTablesStartTimeMenuTitle"
													data-toggle="dropdown" aria-haspopup="true"
													aria-expanded="false">Start Time</button>
												<div class="dropdown-menu" id="gammaTablesStartTimes"
													aria-labelledby="dropdownMenuButton"></div>
											</div>
											<div class="dropdown">
												<button class="btn btn-secondary dropdown-toggle"
													type="button" id="gammaTablesProgramTitle"
													data-toggle="dropdown" aria-haspopup="true"
													aria-expanded="false">Program</button>
												<div class="dropdown-menu" id="gammaTablesPrograms"
													aria-labelledby="dropdownMenuButton"></div>
											</div>
											<div class="dropdown">
												<button class="btn btn-secondary dropdown-toggle"
													type="button" id="gammaTablesSourceTitle"
													data-toggle="dropdown" aria-haspopup="true"
													aria-expanded="false">Source</button>
												<div class="dropdown-menu" id="gammaTablesSources"
													aria-labelledby="dropdownMenuButton"></div>
											</div>
											<button id="visualizeButton" type="button"
												class="btn btn-primary invisible">Visualize</button>
											<div id="serverEndpoint" class="text-xs"></div>
											<div id="serverResp" class="rounded-circle bg-danger Blink2"
												style="width: 15px; height: 15px;"></div>

										</div>
									</div>
								</div>

							</div>
							<div class="card-body" id="container"></div>
						</div>

					</div>
				</div>
			</div>

			<!-- Footer -->

			<footer id="footer" class="sticky-footer bg-footer mt-4"> </footer>
			<!-- End of Footer -->
		</div>
		<!-- End of Content Wrapper -->
	</div>
	<!-- End of Page Wrapper -->



	<!-- Load Sidebar & Footer -->
	<script type="text/javascript">
		$("#sidebar").load("sidebar.html", () => {
			$("#sidebarToggle").click(function (e) {
				e.preventDefault();
				$("body").toggleClass("sidebar-toggled");
				$(".sidebar").toggleClass("toggled");
				if ($(".sidebar").hasClass("toggled")) {
					$(".sidebar .collapse").collapse("hide");
				}
			});
		});
		$("#footer").load("footer.html");
	</script>
</body>

</html>